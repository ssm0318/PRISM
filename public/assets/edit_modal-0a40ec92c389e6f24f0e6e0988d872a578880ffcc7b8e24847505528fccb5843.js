function edit_modal(e){e.stopImmediatePropagation(),form=$(this),$.ajax({type:"GET",url:form.attr("data-url"),success:function(e){var o=$(`${e.html_content}`);$("#edit-background").find("#edit-box").append(o),check_channels(o.find(".answer-button")),$("#edit-background").show(),$("body").css("overflow","hidden"),$(document).one("click",".feed-edit",edit_modal),autosize(o.find("textarea")),$("body").trigger("click"),$(".edit_answer, .edit_post, .edit_repost").submit(function(e){e.preventDefault(),form=$(this),console.log(form),$.ajax({type:"PUT",url:form.attr("action"),data:form.serialize(),success:function(e){console.log("successed"),$(`.prism-box.${e.type}.${e.id}`).find(".answer").html(form.find(".new-answer-field").val()),$(`.prism-box.${e.type}.${e.id}`).find(".feed-channels").html('<strong style = "padding-right: 10px; color: #4f4f4f;">\uacf5\uac1c\uadf8\ub8f9</strong>'+e.channels),o.remove(),$("#edit-background").hide(),$("body").css("overflow","auto")},error:function(){console.log("error!")}})})},error:function(){console.log("error!")}})}$(document).one("click",".feed-edit",edit_modal);