<div id = "new-custom-question-form">
    <%= form_for custom_question do |f| %>
        <%= f.hidden_field :author_id, :value => current_user.id %>
        <%= f.text_area :content, required: true, class: "new-answer-field", autofocus: true, placeholder: "질문을 작성해보세요", "data-enable-grammarly": "false" %>
        <!-- FIXME: answer쓰는 form에도 이거 넣어주기 -->

        <!-- FIXME: checkbox가 /posts/form과 왜때무네 연동되는 것? -->
        <div class = "channels custom-question">
            <span>공개범위</span>
            <%= link_to image_tag("icons/setting-default-icon.png", class: "channel-setting-icon"), friends_path()%>
            <!-- TODO: 채널이 많아질 경우 style -->
            <% if custom_question.id != nil %>
                <%# edit post의 경우 %>
                <% label_id = "custom_question_edit" %>
            <% else %>
                <%# create post의 경우 %>
                <% label_id = "custom_question" %>
            <% end %>
            <% current_user.channels.each do |channel| %>
                <%= check_box_tag "c[]", channel.id, custom_question.channels.include?(channel), id: channel.id.to_s + label_id %>
                <%= label_tag channel.id.to_s + label_id, channel.name %>
            <% end %>
            
        </div>
        <%= button_tag "저장", class: "answer-button"%>
    <% end %>
</div>


