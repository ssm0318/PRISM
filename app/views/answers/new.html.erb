<html> 
    <div class = "today-question-box"> 
    <h1 class = "today-question-title">새로운 답변</h1>

    <%= render 'form', answer: @answer %>
</html> 

<script>
    //주석된 코드는 너무 느리네..!!(수정)
    // $(document).ready(function() {
    //     $(".new-answer-field").on('keydown', function () {
    //         if ($(this).outerHeight() > this.scrollHeight){
    //             $(this).height(1)
    //         }
    //         while ($(this).outerHeight() < this.scrollHeight + parseFloat($(this).css("borderTopWidth")) + parseFloat($(this).css("borderBottomWidth"))){
    //             $(this).height($(this).height() + 1)
    //         }
    //     });
    // })
    var textarea = document.querySelector('textarea');

    textarea.addEventListener('keydown', autosize);

    function autosize(){
        var el = this;
        setTimeout(function(){
            el.style.cssText = 'height:auto; padding:0';
            el.style.cssText = 'height:' + (el.scrollHeight) + 'px';
        },0);
    }
</script>