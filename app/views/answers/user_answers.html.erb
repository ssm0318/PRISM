<div class="inner-container">
<%= render partial: "./user_answers_layout", locals: {user: @user} %>
    <% if !@user.friends.include? current_user and @user.id != current_user.id %>
        <%= @user.username %>님과 친구가 되어보세요.
    <% else %>
    <% @answers.reverse_each do |a| %>
        <div class="prism-box">
            <div class="prism-box__header">
                <%= render partial: "./user_profile", locals: {user: a.author} %><br/>
                    <%# TODO: 공개범위 수정하는거 구현 %> 
                <!--
                <% if current_user.id == @user.id %>
                        <%= a.highlights.size %> 개의 형광펜
                        <%= Drawer.where(target_type: "Answer", target_id: a.id).size %> 명이 별표함
                        <%= a.comments.size %> 개의 댓글 <br/><br>
                <% end %>
                -->
            </div>
            <div class="prism-box__content">
                <br>
                <a href="/questions/<%=a.question.id%>" class="question"><%= a.question.content %></a> <br><br>
                <div class="answer"><%= a.content %></div>
                <br>
                <!--<%# 여기도. 이런 코드를 view에서 쓰는 게 맞는지 %>-->
                <%
=begin%>
                태그:
                <% if !a.tag_string.nil? %>
                    <%= a.tag_string.gsub("\r\n", "\n").split("\n") %>
                <% end %>-->
                <br> 
<%
=end%>
                <div class = "date"><%= a.created_at.strftime("%Y년 %m월 %d일 %I : %M %p") %></div>
                <br>
            </div>
            <div class="prism-box__footer" style="padding-bottom: 10px;">
                <%= render 'authorized_answer', a: a %>
                <%= render 'like', a: a %>
                <%= render 'drawer', a: a %>
                <br>
            </div>
            <%= render 'comment_form', user: @user, a: a %>
        </div>
        <% end %>
    <% end %>
</div>
<%= render 'comment_script' %>
