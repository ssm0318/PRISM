<%= render partial: "./user_profile", locals: {user: user} %>님의 페이지 <br/>
<% if current_user.id == user.id %>
    <%= link_to "내 정보 수정하기", edit_user_profile_path(user.id) %> 
<% end %>

<% if current_user.id != user.id %>
    <% if !user.friends.include? current_user %>
        <%# view에서 record에 접근하는 게 정상인가.. 이거 어떻게 .recieved_requests이런거 이용해서 안될까! %>
        <% if FriendRequest.where(requester_id: user.id, requestee_id: current_user.id).exists? %>
            <%= link_to "친구수락", add_friend_path(user.id), method: :post %>
        <% elsif FriendRequest.where(requester_id: current_user.id, requestee_id: user.id).exists? %>
            <%= link_to "친구요청 취소", friend_request_path(user.id), method: :post %>
        <% end %>
    <% else %>
        <%= link_to "친구 끊기", add_friend_path(user.id), method: :post %>
    <% end %>
<% end %>
<br/>
<%= link_to "답변", user_answers_path(user.id) %>
<% if current_user.id == user.id %>
    <%= link_to "형광펜", user_highlights_path(user.id) %>
    <%= link_to "별", user_stars_path(user.id) %>
<% end %>
