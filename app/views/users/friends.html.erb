<div class="prism-title"><h1>친구 목록</h1></div>
<div class="friend-list">


    <%# render partial: "channels/new" %>
    <!-- TODO: 채널 별 삭제 버튼, 사람 옮기기 가능하게-->
    <!-- TODO: 단, '익명피드'와 '나만보기' 채널은 이 리스트에 안나오게!! 글 쓸 때 체크하는 채널 리스트와, 마이페이지에 들어갔을 때 채널 리스트에만 등장해야 함 -->
    <!-- TODO: 그 이유는, 두 채널은 친구들을 분류하는 그룹으로서의 기능이 없을 뿐 아니라, 삭제 또는 수정이 불가하나 채널으로 둘 것이기 때문 -->

    <!-- 전체 친구 -->
    <div id="channel-nav-div">
        <div class="channel-nav all active">전체</div>
        <% @channels.each do |channel| %>
            <div class="channel-nav <%=channel.id%>"><%= channel.name%></div>
        <% end %>
    </div>
    <button id="btn-channel-add">채널 추가</button>
    <%= form_tag '/channels/-1', :id => "name-create-form" do %>
        <%= text_field_tag "name", nil, required: true, :id => "name-create-input" %>
        <%= button_tag "완료", :id => "name-create-btn" %>
    <% end %>

    <div>
        <div id="channel-name-div">
            <h2 id="channel-name">전체</h2>
            <%= form_tag '/channels/-1', :id => "name-edit-form" do %>
                <%= text_field_tag "name", nil, required: true, :value => '전체', :id => "name-edit-input" %>
                <%= button_tag "저장", :id => "name-edit-btn" %>
            <% end %>
        </div>
        <!-- TODO  사람수 표시-->
        <div id="channel-default-btns">
            <button id="btn-channel-name-edit">이름 편집</button>
            <%= link_to '삭제',  '/channels/-1',  method: :delete, data: { confirm: '정말 지울래?!' }, id: "btn-channel-delete" %>
            <button id="btn-channel-edit">채널 편집</button>
        </div>
        <button id="btn-channel-edit-complete">완료</button>
    </div>

    <%= render partial: "friend_list", locals: {friends_with_channels: @friends_with_channels} %>

    <% if @friends_with_channels.empty? %>
        친구를 초대해보세요!<br> <!-- FIXME: 버그인가 왜 줄바꿈이 안되지 -->
        <%= link_to "친구 초대하기", invitation_path %>
    <% end %>
</div>


<%# 이 스크립트는 한번밖에 안쓰여서 우선 js로 안바꿈. %>
<%= javascript_include_tag('channels_script.js') %>